<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>人物专访</title>
    <link rel="stylesheet" href="./css/template_group.css">
</head>

<body>
    <div class="paper-container">
        <!-- Masthead -->
        <header class="newspaper-header">
            <div class="header-top-meta">
                <span class="meta-item">No. 114514</span>
                <span class="meta-item">${analysisDate}</span>
                <span class="meta-item">人物专刊</span>
            </div>
            <h1 class="newspaper-title">人物专访</h1>
            <div class="header-sub">
                <span class="sub-text">PERSONA INTERVIEW · ${username}</span>
            </div>
        </header>

        <div class="newspaper-content">
            <div class="main-columns">
                <!-- Left Column: Profile Photo & Basic Info -->
                <aside class="column-sidebar">
                    <div class="paper-box photo-box">
                        <div class="photo-frame">
                            <img src="${avatar}" alt="User Avatar" class="profile-photo">
                        </div>
                        <div class="photo-caption">
                            <span class="caption-text">${username}</span>
                        </div>
                    </div>

                    <div class="paper-box info-box">
                        <h3 class="box-title">档案资料</h3>
                        <div class="info-content">
                            <p><strong>ID:</strong> ${username}</p>
                            <p><strong>日期:</strong> ${analysisDate}</p>
                        </div>
                    </div>

                    <div class="paper-box tags-box">
                        <h3 class="box-title">核心特质</h3>
                        <div class="tags-list">
                            ${keyTraits}
                        </div>
                    </div>

                    <div class="paper-box tags-box">
                        <h3 class="box-title">兴趣领域</h3>
                        <div class="tags-list">
                            ${interests}
                        </div>
                    </div>
                </aside>

                <!-- Right Column: Interview Content -->
                <section class="column-main-wide">
                    <div class="article-block">
                        <div class="section-label"><span>人物速写 / SUMMARY</span></div>
                        <div class="article-text first-letter-big">
                            ${summary}
                        </div>
                    </div>

                    <div class="article-block">
                        <div class="section-label"><span>沟通风格 / STYLE</span></div>
                        <div class="article-text">
                            ${communicationStyle}
                        </div>
                    </div>

                    <div class="article-block">
                        <div class="section-label"><span>事实记录 / EVIDENCE</span></div>
                        <div class="evidence-content">
                            ${evidence}
                        </div>
                    </div>
                </section>
            </div>
        </div>

        <footer class="newspaper-footer">
            <div class="footer-line"></div>
            <p>ChatLuna Persona Analysis System · Generated by ChatLuna</p>
        </footer>
    </div>
    <script>
        const themeSetting = '${theme}';
        const body = document.body;

        function applyTheme(themeName) {
            if (themeName === 'dark') {
                body.classList.add('dark-theme');
            } else {
                body.classList.remove('dark-theme');
            }
        }

        function init() {
            if (themeSetting === 'auto') {
                const hour = new Date().getHours();
                const theme = hour >= 19 || hour < 6 ? 'dark' : 'light';
                applyTheme(theme);
            } else {
                applyTheme(themeSetting);
            }
        }

        init();
    </script>
</body>

</html>